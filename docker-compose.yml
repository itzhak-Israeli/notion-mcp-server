services:
  notion-mcp-server:
    build: .
    # This runs the MCP server in HTTP mode - NOT STDIO
    environment:
      - TRANSPORT=http
      - PORT=3000
      - NOTION_TOKEN=${NOTION_TOKEN}
    ports:
      # EXPOSE HTTP PORT - This is an HTTP server
      - "3000:3000"
    command: ["--transport", "http", "--port", "3000"]
    restart: unless-stopped
    # HTTP endpoints available at:
    # http://localhost:3000/mcp (POST, GET, DELETE)
    # http://localhost:3000/health (GET)
